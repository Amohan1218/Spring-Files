<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Order</title>
</head>
<body>
    <h1>Orders Master Entry</h1>
    <form id="orderForm">
		<table>
			<tr>
				<td><label for="orderID">OrderID:</label></td>
				<td><input type="text" id="orderID" name="orderID" required></td>
				<td><label for="customerID">CustomerID:</label></td>
				<td><input type="text" id="customerID" name="customerID" required></td>
			</tr>
			<tr>
				<td><label for="orderDate">OrderDate:</label></td>
				<td><input type="text" id="orderDate" name="orderDate" required></td>
				<td><label for="productID">ProductID:</label></td>
				<td><input type="text" id="productID" name="productID" required></td>
			</tr>
			<tr>
				<td><label for="quantity">Quantity:</label></td>
				<td><input type="number" id="quantity" name="quantity" required></td>
				<td><label for="unitPrice">UnitPrice:</label></td>
				<td><input type="text" id="unitPrice" name="unitPrice" required></td>
			</tr>
			<tr>
				<td><label for="totalAmount">TotalAmount:</label></td>
				<td><input type="text" id="totalAmount" name="totalAmount" required></td>
			</tr>
			<tr>
				<td><button type="button" id="addButton">Add Order</button></td>
				<td><button type="button" id="displayAllButton">Display All</button></td>
			</tr>
		</table>
	
    </form>

	
	<h2>All Orders</h2>
    <table id="orderTable" border="1">
        <thead>
            <tr>
                <th>OrderID</th>
                <th>CustomerID</th>
                <th>OrderDate</th>
                <th>ProductID</th>
                <th>Quantity</th>
                <th>UnitPrice</th>
                <th>TotalAmount</th>
            </tr>
        </thead>
        <tbody>
			
        </tbody>
    </table>
    <!-- JavaScript to handle form submission -->
    <script>
		
		// Function to fetch and display all orders
        function displayAllOrders() {
            fetch("/orders") // Replace with your actual endpoint
                .then(response => response.json())
                .then(data => {
                    // Clear the existing table rows
                    var tableBody = document.querySelector("#orderTable tbody");
                    tableBody.innerHTML = "";

                    // Populate the table with retrieved data
                    data.forEach(order => {
                        var row = document.createElement("tr");
                        row.innerHTML = `
                            <td>${order.orderId}</td>
                            <td>${order.customerId}</td>
                            <td>${order.orderDate}</td>
                            <td>${order.productId}</td>
                            <td>${order.quantity}</td>
                            <td>${order.unitPrice}</td>
                            <td>${order.totalAmount}</td>
                            <td><button>Edit</button></td>
                            <td><button>Save</button></td>
                            <td><button>Delete</button></td>
                            <td><button>Show Products</button></td>
                        `;
                        tableBody.appendChild(row);
                    });
                })
                .catch(error => {
                    console.error("Error:", error);
                });
        }

        // Event listener for the "Display All" button
        document.getElementById("displayAllButton").addEventListener("click", function () {
            displayAllOrders();
        });
		
        document.getElementById("addButton").addEventListener("click", function () {
            // Get form data and submit it to your server using AJAX or other methods
            var orderForm = document.getElementById("orderForm");
            var formData = new FormData(orderForm);
            
            // Example: Sending the data as JSON using fetch
            fetch("/orders", {
                method: "POST",
                body: JSON.stringify(Object.fromEntries(formData)),
                headers: {
                    "Content-Type": "application/json"
                }
            })
            .then(response => response.json())
            .then(data => {
                // Handle the response from the server
                console.log(data);
            })
            .catch(error => {
                console.error("Error:", error);
            });
        });
    </script>
</body>
</html>
